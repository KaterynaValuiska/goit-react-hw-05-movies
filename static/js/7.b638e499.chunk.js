"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[7],{7:function(e,t,n){n.r(t);var r=n(439),a=n(791),c=n(87),u=n(689),s=n(154),i=n(184);t.default=function(){var e=(0,a.useState)([]),t=(0,r.Z)(e,2),n=t[0],o=t[1],l=(0,a.useState)(!1),d=(0,r.Z)(l,2),h=d[0],f=d[1],m=(0,a.useState)(""),p=(0,r.Z)(m,2),v=p[0],j=p[1],x=(0,c.useSearchParams)(""),b=(0,r.Z)(x,2),y=b[0],k=b[1],S=y.get("query"),q=(0,u.TH)();(0,a.useEffect)((function(){if(null!==S){f(!0);fetch("https://api.themoviedb.org/3/search/movie?query=".concat(S,"&api_key=").concat("d70391bd104bbaa3c93dcadd8b9cf3d4")).then((function(e){return e.json()})).then((function(e){o(e.results),j("Sorry. We did not find any movies."),f(!1)})).catch((function(e){return console.error("error:"+e)}))}}),[S]);return(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"Search film"}),(0,i.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget;k({query:t.elements.query.value})},children:[(0,i.jsx)("input",{type:"text",name:"query",defaultValue:null!==S&&void 0!==S?S:""}),(0,i.jsx)("button",{type:"submit",children:"search"})]}),h&&(0,i.jsx)(s.a,{}),n.length>0?(0,i.jsx)("ul",{children:n.map((function(e){return(0,i.jsx)("li",{children:(0,i.jsx)(c.Link,{to:"/movies/".concat(e.id),state:{from:q},className:"NavLink",children:e.title})},e.id)}))}):(0,i.jsxs)("p",{className:"NotFoundFilm",children:[v," "]})]})}}}]);
//# sourceMappingURL=7.b638e499.chunk.js.map